<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# config

```go
import "github.com/mgla96/ssh-watcher/internal/config"
```

## Index

- [Constants](<#constants>)
- [type Config](<#Config>)
  - [func New\(\) \(\*Config, error\)](<#New>)
- [type Slack](<#Slack>)
- [type WatchSettings](<#WatchSettings>)


## Constants

<a name="ServicePrefix"></a>ServicePrefix \- app specific env vars have this prefix.

```go
const ServicePrefix = "WR"
```

<a name="Config"></a>
## type [Config](<https://github.com/Mgla96/ssh-watcher/blob/main/internal/config/config.go#L19-L27>)



```go
type Config struct {
    HostMachineName string        `envconfig:"HOST_MACHINE_NAME" required:"true"`
    Slack           *Slack        `envconfig:"SLACK"`
    LogFileLocation string        `envconfig:"WATCH_LOGFILE" default:"/var/log/auth.log"`
    WatchSettings   WatchSettings `split_words:"true"`
    // StateFilePath is location of file that keeps track of the last processed line
    // by ssh watcher so restarts of the service do not reprocess all ssh history.
    StateFilePath string `envconfig:"STATE_FILE_PATH" default:"/var/lib/ssh-watcher/authlog-state"`
}
```

<a name="New"></a>
### func [New](<https://github.com/Mgla96/ssh-watcher/blob/main/internal/config/config.go#L40>)

```go
func New() (*Config, error)
```



<a name="Slack"></a>
## type [Slack](<https://github.com/Mgla96/ssh-watcher/blob/main/internal/config/config.go#L12-L17>)



```go
type Slack struct {
    WebhookUrl string `envconfig:"SLACK_WEBHOOK_URL"`
    Channel    string `envconfig:"SLACK_CHANNEL" default:"#ssh-alerts"`
    Username   string `envconfig:"SLACK_USERNAME" defaul:"poe-ssh-bot"`
    Icon       string `envconfig:"SLACK_ICON" default:":ghost:"`
}
```

<a name="WatchSettings"></a>
## type [WatchSettings](<https://github.com/Mgla96/ssh-watcher/blob/main/internal/config/config.go#L29-L38>)



```go
type WatchSettings struct {
    // AcceptedLogins is a flag to watch for successful logins
    AcceptedLogins bool `default:"true" split_words:"true"`
    // FailedLogins is a flag to watch for failed logins
    FailedLogins bool `default:"false" split_words:"true"`
    // FailedLoginInvalidUsername is a flag to watch for failed logins with invalid username
    FailedLoginInvalidUsername bool `default:"true" split_words:"true"`
    // SleepInterval is the interval in seconds to sleep between log file reads
    SleepInterval int `default:"2" split_words:"true"`
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
